<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" href="https://cdn.trinsic.id/assets/logo/favicon.ico" />
  <script type="module" src="./shared.js"></script>
  <script type="module" src="./mdl.js"></script>
  <title>Trinsic UI sample</title>
</head>

<body class="friendly-text">
  <h1>Trinsic Frontend Client Sample</h1>
  <a href="/"> &lt;-- Back</a>
  <div style="border: 1px solid black;padding: 5px; margin: 5px;">
    <h3>mDL Exchange (Digital Credentials API)</h3>

    <p>
      <b>VerificationProfile / App ID:</b>
      <input type="text" name="verificationProfileId" value="">
    </p>

    <p>
      <b>Provider:</b>
      <label>
        <input type="radio" name="mdlProvider" value="google-wallet" checked>
        Google Wallet
      </label>
      <label>
        <input type="radio" name="mdlProvider" value="apple-wallet" disabled>
        Apple Wallet (not supported in sample app; contact Trinsic)
      </label>
    </p>

    <p>
      <b>Document Type:</b>
      <label>
        <input type="radio" name="mdlDocumentType" value="org.iso.18013.5.1.mDL" checked>
        org.iso.18013.5.1.mDL
      </label>
      <label>
        <input type="radio" name="mdlDocumentType" value="com.google.wallet.idcard.1">
        com.google.wallet.idcard.1
      </label>
    </p>

    <p>
      <b>Fields:</b>
      <label>
        <input type="checkbox" name="mdlFields" value="given_name" checked>
        Given Name
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="family_name" checked>
        Family Name
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="birth_date" checked>
        Birth Date
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="issue_date" checked>
        Issue Date
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="expiry_date" checked>
        Expiry Date
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="issuing_country" checked>
        Issuing Country
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="issuing_authority" checked>
        Issuing Authority
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="document_number" checked>
        Document Number
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="portrait" checked>
        Portrait
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="sex" checked>
        Sex
      </label>
      <label>
        <input type="checkbox" name="mdlFields" value="nationality" checked>
        Nationality
      </label>
    </p>

    <p>
      <b>Will Retain:</b>
      <input type="checkbox" name="willRetain" checked>
    </p>

    <hr/>
    <ul class="listOptions">
      <li><button class="launch-widget" onclick="launchMdlExchange()">
          <div class="launch-name">Launch mDL Exchange</div>
          <div class="chevron"></div>
        </button></li>
    </ul>
  </div>

  <div class="modal micromodal-slide" id="exchange-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
        <header class="modal__header">
          <h2 class="modal__title" id="modal-1-title">
            Created Exchange
          </h2>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
        </header>
        <main class="modal__content" id="modal-1-content">
          <p>
            <b>Exchange ID:</b> <code id="exchange-id"></code> <br />
            <pre id="exchangeInfo">
                
            </pre>
          </p>
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" aria-label="Execute Digital Credentials API Exchange" onClick="executeMdlExchange()">
            Perform Exchange
          </button>
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal micromodal-slide" id="results-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
        <header class="modal__header">
          <h2 class="modal__title" id="modal-1-title">
            Finalized Exchange
          </h2>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
        </header>
        <main class="modal__content" id="modal-1-content">
          <p>
            <pre id="results">
                
            </pre>
          </p>
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>

    <div class="modal micromodal-slide" id="error-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
        <header class="modal__header">
          <h2 class="modal__title" id="modal-1-title">
            Error
          </h2>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
        </header>
        <main class="modal__content" id="modal-1-content">
          <p>
            <pre id="error">
                
            </pre>
          </p>
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>
</body>

</html>