<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" href="https://content.trinsic.id/assets/logo/favicon.ico" />
  <script type="module" src="./shared.js"></script>
  <script type="module" src="./direct.js"></script>
  <title>Trinsic UI sample</title>
</head>

<body class="friendly-text">

  <h1>Trinsic Frontend Client Sample</h1>
  <p><a href="https://docs.trinsic.id/docs/integration-guide">Read more</a> in our integration guide about the different
    session launch modes.</p>
  <a href="/"> &lt;-- Back</a>


  <div style="border: 1px solid black;padding: 5px; margin: 5px;">
    <h3>Direct Provider Session</h3>
    <p>
      <b>Fallback to Trinsic Hosted UI:</b>
      <label>
        <input type="radio" name="fallbackToTrinsicUI" value="true" checked>
        True
      </label>

      <label>
        <input type="radio" name="fallbackToTrinsicUI" value="false">
        False
      </label>
    </p>
    <div>
      <b>Enabled capabilities:</b>
      <label>
        <input type="checkbox" name="TrinsicCapabilities" value="LaunchBrowser" checked="true">
        LaunchBrowser
      </label>
      <label>
        <input type="checkbox" name="TrinsicCapabilities" value="DeeplinkToMobile" checked="true">
        DeeplinkToMobile
      </label>
      <label>
        <input type="checkbox" name="TrinsicCapabilities" value="ShowContent" checked="true">
        ShowContent
      </label>
      <label>
        <input type="checkbox" name="TrinsicCapabilities" value="RefreshStepContent" checked="true">
        RefreshStepContent
      </label>
      <label>
        <input type="checkbox" name="TrinsicCapabilities" value="CaptureRedirect" checked="true">
        CaptureRedirect
      </label>
      <label>
        <input type="checkbox" name="TrinsicCapabilities" value="PollResult" checked="true">
        PollResult
      </label>
      <label>
        <input type="checkbox" name="TrinsicCapabilities" value="PollAfterRedirect" checked="true">
        PollAfterRedirect
      </label>
      <p style="margin-left: 20px; margin-top: 0px;"><small>Signal to our API what capabilities your frontend supports.
          <br /> Our sample frontend supports all capabilities, but you can disable them to test the API
          surface.</small></p>
    </div>


    <h4>Recognized providers</h4>
    <ul id="recognizedProviders" class="listOptions"></ul>
    <h4>Relevant providers</h4>
    <ul id="relevantProviders" class="listOptions"></ul>
    <h4>Remaining providers</h4>
    <ul id="remainderProviders" class="listOptions"></ul>
  </div>


  <div class="modal micromodal-slide" id="direct-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
        <header class="modal__header">
          <h2 class="modal__title" id="modal-1-title">
            Direct Provider Session
          </h2>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
        </header>
        <main class="modal__content" id="modal-1-content">
          <p>
            We've launched an direct provider session. We'll update this modal with the status of the session. <br />
            <b>Session ID:</b> <code id="session-id"></code> <br />
            <b>Next step:</b> <code id="next-step"></code> <br />
            <b>Result collection:</b> <code id="result-collection"></code> <br />
            <b>Content should be refreshed:</b> <code id="content-refresh"></code> <br />
            <canvas id="qrcode-canvas"></canvas>
          </p>
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal micromodal-slide" id="results-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
        <header class="modal__header">
          <h2 class="modal__title" id="modal-1-title">
            Session Results
          </h2>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
        </header>
        <main class="modal__content" id="modal-1-content">
          <p>
            <b>Session ID:</b> <code id="session-id"></code> <br />
          <pre id="results">

                </pre>
          </p>
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
</body>

</html>